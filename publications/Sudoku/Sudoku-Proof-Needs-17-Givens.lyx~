#LyX 1.6.7 created this file. For more info see http://www.lyx.org/
\lyxformat 345
\begin_document
\begin_header
\textclass article
\use_default_options true
\language english
\inputencoding auto
\font_roman default
\font_sans default
\font_typewriter default
\font_default_family default
\font_sc false
\font_osf false
\font_sf_scale 100
\font_tt_scale 100

\graphics default
\paperfontsize default
\spacing single
\use_hyperref false
\papersize default
\use_geometry true
\use_amsmath 1
\use_esint 1
\cite_engine basic
\use_bibtopic false
\paperorientation portrait
\leftmargin 3cm
\topmargin 3cm
\rightmargin 3cm
\bottommargin 3cm
\secnumdepth 3
\tocdepth 3
\paragraph_separation indent
\defskip medskip
\quotes_language english
\papercolumns 1
\papersides 1
\paperpagestyle default
\tracking_changes false
\output_changes false
\author "" 
\author "" 
\end_header

\begin_body

\begin_layout Title
Sudoku Permutation Structure
\end_layout

\begin_layout Author
Lucas Fi√©vet
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash

\backslash

\end_layout

\end_inset

Theoretische Physik, ETH Zurich, Switzerland
\end_layout

\begin_layout Abstract
To efficiently solve sudokus a lot of clever algorithms have been developed
 but none lead to a complete understanding of their structure.
 Why up to now the question of the fewest given that render a solution unique
 is still unsolved.
 In this paper I will establish an algebra to represent naturally sudokus
 based on permutation groups.
 It will as well allow to show that it needs at least 17 givens in a sudoku
 for having a unique solution.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
tableofcontents
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
pagebreak
\end_layout

\end_inset


\end_layout

\begin_layout Section
Sudoku Algebra
\end_layout

\begin_layout Subsection
Representing a Sudoku
\end_layout

\begin_layout Standard
A sudoku has exactly each number from 1 to 9 in each line, column and 3x3
 bloc.
 It is thus natural to start with square matrices of size three and construct
 the possible configuration in such a way to implement the three properties.
 
\end_layout

\begin_layout Standard
\begin_inset Formula \begin{equation}
e_{ij}\in\mathbb{M}_{3}\qquad(e_{ij})_{kl}=\delta_{kl}\delta_{jl}\qquad C=\sum_{i,j}e_{ij}\otimes e_{ji}\end{equation}

\end_inset


\end_layout

\begin_layout Standard
The central matrix C has by construction the desired properties which are
 maintained under permutation of the lines and columns inside a bloc.
 Thus every possible configuration for one number can be generated by applying
 a bloc permutation matrices 
\begin_inset Formula $B^{L}$
\end_inset

 on the lines and 
\begin_inset Formula $B^{\text{C}}$
\end_inset

 on the columns (see appendix 
\begin_inset CommandInset ref
LatexCommand ref
reference "sub:Basis"

\end_inset

).
 To obtain an entire sudoku we sum up over nine independent such configurations.
 
\end_layout

\begin_layout Standard
\begin_inset Formula \begin{equation}
Sudoku=\sum_{n=1}^{9}n\, B_{n}^{L}CB_{n}^{C}\qquad B_{n}^{L},B_{n}^{C}\in I_{3}\otimes S_{3}\end{equation}

\end_inset


\end_layout

\begin_layout Standard
Unfortunately this generates a lot of impossible sudokus because there is
 no guaranty that every location in a bloc is occupied once.
 In the next section we will work out the algebra of the bloc permutation
 matrices such that they fulfill this constraint as well.
 A bloc is denoted by the position 
\begin_inset Formula $(l,c)$
\end_inset

 of its bloc line and bloc column (
\begin_inset Formula $l,c\in\left\{ 0,1,2\right\} $
\end_inset

).
\end_layout

\begin_layout Standard
\begin_inset Formula \begin{equation}
C_{lc}=\sum_{n=1}^{9}n\, B_{nl}^{L}e_{cl}B_{nc}^{C}\qquad B_{nl}^{L},B_{nc}^{C}\in S_{3}\end{equation}

\end_inset


\end_layout

\begin_layout Subsection
Possible Sets of Permutations
\end_layout

\begin_layout Standard
We start by writing down all the permutations of 
\begin_inset Formula $S_{3}$
\end_inset

 and pair them up with respect to their action.
\end_layout

\begin_layout Standard
\begin_inset Formula \begin{equation}
S_{3}=\left\{ \begin{array}{c}
a=123\\
b=132\\
c=312\\
d=213\\
e=231\\
f=321\end{array}\right\} \qquad\begin{array}{cccc}
\Rsh & 1 & 2 & 3\\
1 & a|b & c|d & e|f\\
2 & e|d & a|f & c|b\\
3 & c|f & e|b & a|d\end{array}\label{eq:constraints}\end{equation}

\end_inset


\end_layout

\begin_layout Standard
The table lists all the permutations which permute the number to the left
 into the location on top.
 Any set of nine permutations blocs 
\begin_inset Formula $B_{i}=\left\{ B_{ni}\:|\:\forall\,1\leq n\leq9\right\} $
\end_inset

 (for both lines and columns) needs to send exactly each element three times
 onto each location.
 This yields following overdetermined set of equations which have exactly
 four solutions.
\end_layout

\begin_layout Standard
\begin_inset Formula \begin{equation}
\begin{array}{ccccc}
N_{a}+N_{b}=3 &  & N_{e}+N_{d}=3 &  & N_{c}+N_{f}=3\\
N_{c}+N_{d}=3 &  & N_{a}+N_{f}=3 &  & N_{e}+N_{b}=3\\
N_{e}+N_{f}=3 &  & N_{c}+N_{b}=3 &  & N_{a}+N_{d}=3\end{array}\quad\begin{array}{c}
N_{a}=N_{c}=N_{e}\\
N_{b}=N_{d}=N_{f}=3-N_{a}\end{array}\label{eq:AlegbraEquations}\end{equation}

\end_inset


\end_layout

\begin_layout Standard
This allows to characterize each of the 3 sets 
\begin_inset Formula $B_{l}^{L}$
\end_inset

 and 
\begin_inset Formula $B_{c}^{C}$
\end_inset

by a number 
\begin_inset Formula $N_{i}^{L}$
\end_inset

, 
\begin_inset Formula $N_{i}^{C}$
\end_inset

 between 0 and 3.
\end_layout

\begin_layout Subsection
Ordering the Sets into Similar or Complementary Subsets
\end_layout

\begin_layout Standard
Form the section before we know that the sets 
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none

\begin_inset Formula $B_{l}^{L}$
\end_inset

 or 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\noun default
\color inherit

\begin_inset Formula $B_{c}^{C}$
\end_inset

 
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
can be split into 3 subsets of 3 permutations with following property.
\end_layout

\begin_layout Itemize

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
Sending the non null element 
\begin_inset Formula $(e_{cl})_{cl}$
\end_inset

 on the same line or column (Similar subsets).
\end_layout

\begin_layout Itemize

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
Sending the non null element 
\begin_inset Formula $(e_{cl})_{cl}$
\end_inset

 on three different lines or columns (Complementary subsets).
\end_layout

\begin_layout Standard
By pairing up similar sets from the lines with complementary sets of the
 columns, or vice a versa, we naturally obtain a full cover of the bloc.
\end_layout

\begin_layout Standard
The 4 possible sets established before are split into two types, those which
 by construction are similar for all 3 elements (type I) and those which
 are not (type II).
 Notice that by relabeling of 
\begin_inset Formula $a\leftrightarrow b$
\end_inset

, 
\begin_inset Formula $c\leftrightarrow d$
\end_inset

 and 
\begin_inset Formula $e\leftrightarrow f$
\end_inset

 we obtain exactly the same result, implying that the sets 
\begin_inset Formula $E^{0}$
\end_inset

and 
\begin_inset Formula $E^{3}$
\end_inset

are interchangeable as are 
\begin_inset Formula $E^{1}$
\end_inset

and 
\begin_inset Formula $E^{2}$
\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Formula \begin{equation}
\begin{array}{c}
I\:\begin{cases}
\begin{array}{cccc}
E^{3}= & aaa & ccc & eee\\
E^{0}= & bbb & ddd & fff\end{array} & \qquad\end{cases}II\:\begin{cases}
\begin{array}{ccccc}
E^{1}= & abb & cdd & eff & Similar\: on\:1\\
\: & cbb & edd & aff & Similar\: on\:2\\
\: & ebb & add & cff & Similar\: on\:3\\
\\E^{2}= & baa & fee & dcc & Similar\: on\:1\\
\: & faa & dee & bcc & Similar\: on\:2\\
\: & daa & bee & fcc & Similar\: on\:3\end{array}\end{cases}\end{array}\label{eq:AlgebraOrdering}\end{equation}

\end_inset


\end_layout

\begin_layout Standard
For the type II sets the 3 orderings are related in a cyclic way by the
 permutation 
\begin_inset Formula $T=(174)$
\end_inset

 as shown below.
 For type I sets we define 
\begin_inset Formula $T$
\end_inset

 as being the identity.
\end_layout

\begin_layout Standard
\begin_inset Formula \begin{equation}
\textrm{Example : }TE^{1}=(174)(abb\: cdd\: eff)=(cbb\: edd\: aff)\end{equation}

\end_inset


\end_layout

\begin_layout Standard
Complementary subsets can be obtained by permuting a similar ordering (for
 both types) with 
\begin_inset Formula $U=(258)(396)$
\end_inset

 as show below.
 We notice that 
\begin_inset Formula $T$
\end_inset

 and 
\begin_inset Formula $U$
\end_inset

 are independent permutations.
\end_layout

\begin_layout Standard
\begin_inset Formula \begin{equation}
\textrm{Example : }UE^{3}=(258)(396)(aaa\: ccc\: eee)=(aec\: cae\: eca)\end{equation}

\end_inset


\end_layout

\begin_layout Standard
For each type the number of possible permutations keeping the similarity
 or complementarity property is listed bellow.
\end_layout

\begin_layout Standard
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="3" columns="5">
<features>
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<row>
<cell multicolumn="1" alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Type I
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Type II
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Similar
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
aaa ccc eee
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $S_{I}^{S}=3!$
\end_inset

 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
abb cdd eff
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $S_{II}^{S}=3^{3}\,3!$
\end_inset

 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Complementary
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
ace ace ace
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $S_{I}^{C}=(3!)^{3}$
\end_inset

 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
afd cbf edb
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $S_{II}^{C}=3^{3}(3!)^{3}$
\end_inset

 
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Standard
The number of complementary orderings for the second type is a bit tricky.
 Starting from the similar ordering we notice that for the first set we
 have 
\begin_inset Formula $3^{3}$
\end_inset

 possibilities, for the second 
\begin_inset Formula $2^{3}$
\end_inset

and 1 for the last.
 Then we eliminate the permutation of identical elements and multiply with
 the number of permutations inside each set and obtain 
\begin_inset Formula $(3!)^{3}(3!)^{3}/2^{3}=3^{3}(3!)^{3}$
\end_inset

.
\end_layout

\begin_layout Subsection
Constructing fully covered blocs
\end_layout

\begin_layout Standard
From now on we always assume that 
\begin_inset Formula $B_{l}^{L}$
\end_inset

and 
\begin_inset Formula $B_{c}^{C}$
\end_inset

 (
\begin_inset Formula $E_{l}^{L},E_{c}^{C}\in\left\{ E^{0},E^{1},E^{2},E^{3}\right\} $
\end_inset

) are ordered similar on 1 as defined in the section before.
 When we apply a permutation on a set we mean permuting the 
\begin_inset Formula $n$
\end_inset

 indices as follows.
 
\end_layout

\begin_layout Standard
\begin_inset Formula \begin{equation}
C_{lc}=\sum_{n=1}^{9}n\, B_{A(n)l}^{L}e_{cl}B_{B(n)c}^{C}\equiv\sum_{n=1}^{9}n\:(A^{-1}B_{l}^{L})_{n}e_{cl}(B^{-1}B_{c}^{C})_{n}\quad A,B\in S_{9}\end{equation}

\end_inset


\end_layout

\begin_layout Standard
This is very tedious to write out all the time, so because we are only intereste
d on how the permutations from lines are paired up with those of the columns
 we will define a sum operation on two sets as 
\begin_inset Formula $(a,b)+(c,d)=((a,c),(b,d))$
\end_inset

.
 Note that applying a permutation on one side of this sum operation is equivalen
t to apply the inverse of the permutation on the other side as shown below.
 We obtain the same pairs but in a different order.
\end_layout

\begin_layout Standard
\begin_inset Formula \begin{equation}
(a,b,c)+(123)(d,e,f)=((a,f),(b,d),(c,e))\equiv(123)^{-1}(a,b,c)+(d,e,f)\label{eq:Inverse}\end{equation}

\end_inset


\end_layout

\begin_layout Standard
For the bloc 
\begin_inset Formula $(l,c)$
\end_inset

 we must order the line set in a similar way on 
\begin_inset Formula $l$
\end_inset

 and the column set in a complementary way on c.
 Then we are free to permute the elements inside each subset and the subsets
 themself.
 After the pairing up operation we are free to permute the pairs as we want.
\end_layout

\begin_layout Standard
\begin_inset Formula \begin{equation}
P_{l}\:(L_{l}T_{L_{l}}^{c}E_{l}^{L}+UC_{c}T_{C_{c}}^{l}E_{c}^{C})\qquad L_{l},C_{c}\in S_{3\times3}=\sum_{i,j}e_{ij}\otimes S_{3}\quad P_{l}\in S_{9}\label{eq:BlocEquation}\end{equation}

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula \begin{equation}
\textrm{Example : }TE^{1}+UE^{3}=((ca)(be)(bc)(ea)(de)(dc)(aa)(fe)(fc))\end{equation}

\end_inset


\end_layout

\begin_layout Standard
When written above
\begin_inset Formula $l,\: c$
\end_inset

 are not indices on the matrices but exponents.
 Of course in a sudoku for each of the 6 sets (3 for the bloc lines and
 3 for the bloc columns) only one permutation is allowed and we have now
 to figure out those consistent for all 9 blocs.
\end_layout

\begin_layout Subsection
Consistency Equations
\end_layout

\begin_layout Standard
The set of equations obtained for two bloc lines and three bloc columns
 is sufficient to determine the entire sudoku because the result can be
 applied to any pair of bloc lines by permutation of those.
 Moving all the permutations in the equation 
\begin_inset CommandInset ref
LatexCommand ref
reference "eq:BlocEquation"

\end_inset

 on the columns using 
\begin_inset CommandInset ref
LatexCommand ref
reference "eq:Inverse"

\end_inset

 and asking that those are the same for the two lines we obtain following
 system.
\end_layout

\begin_layout Standard
\begin_inset Formula \begin{equation}
\begin{array}{c}
L_{0}^{-1}UC_{0}=P_{1}L_{1}^{-1}UC_{0}T_{C_{0}}\\
T_{L_{0}}^{2}L_{0}^{-1}UC_{1}=P_{1}T_{L_{1}}^{2}L_{1}^{-1}UC_{1}T_{C_{1}}\\
T_{L_{0}}L_{0}^{-1}UC_{2}=P_{1}T_{L_{1}}L_{1}^{-1}UC_{2}T_{C_{2}}\end{array}\end{equation}

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula \begin{equation}
\begin{array}{c}
P_{1}=L_{0}^{-1}UC_{0}T_{C_{0}}^{2}C_{0}^{-1}U^{-1}L_{1}\\
(U^{-1}L_{1}T_{L_{1}}L_{1}^{-1}U)(C_{0}T_{C_{0}}C_{0}^{-1})=(C_{1}T_{C_{1}}C_{1}^{-1})(U^{-1}L_{0}T_{L_{0}}L_{0}^{-1}U)\\
(U^{-1}L_{1}T_{L_{1}}L_{1}^{-1}U)(C_{2}T_{C_{2}}C_{2}^{-1})=(C_{0}T_{C_{0}}C_{0}^{-1})(U^{-1}L_{0}T_{L_{0}}L_{0}^{-1}U)\end{array}\end{equation}

\end_inset


\end_layout

\begin_layout Standard
Those equations are exclusively products of 3-cycles in 
\begin_inset Formula $S_{9}.$
\end_inset

 As long as not all terms are non-vanishing those equations can only be
 solved if each cycle acts on the same 3 elements.
\end_layout

\begin_layout Standard
If all sets are of type I the equations are trivially satisfied because
 all the 
\begin_inset Formula $T$
\end_inset

 matrices are identity.
 Otherwise it needs at least one type II set on each side of the equality.
\end_layout

\begin_layout Subsection
Sudoku Type Classification
\end_layout

\begin_layout Standard
For each bloc line and columns we have two possible types, but by interchange
 of bloc lines or columns and possible rotation of the entire sudoku only
 the following 10 sudokus have different consistency equations.
\end_layout

\begin_layout Standard
\begin_inset Formula \begin{equation}
\begin{array}{cccc}
 &  & 1\\
\\ & I & I & I\\
I\\
I &  & V\\
I\end{array}\quad\begin{array}{cccc}
 &  & 2\\
\\ & I & I & II\\
I\\
I &  & X\\
I\end{array}\quad\begin{array}{cccc}
 &  & 3\\
\\ & I & II & II\\
I\\
I &  & X\\
I\end{array}\quad\begin{array}{cccc}
 &  & 4\\
\\ & II & II & II\\
I\\
I &  & V\\
I\end{array}\quad\begin{array}{cccc}
 &  & 5\\
\\ & I & I & II\\
I\\
I &  & X\\
II\end{array}\end{equation}

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula \[
\begin{array}{cccc}
 &  & 6\\
\\ & I & II & II\\
I\\
I &  & X\\
II\end{array}\quad\begin{array}{cccc}
 &  & 7\\
\\ & II & II & II\\
I\\
I &  & X\\
II\end{array}\quad\begin{array}{cccc}
 &  & 8\\
\\ & I & II & II\\
I\\
II &  & V\\
II\end{array}\quad\begin{array}{cccc}
 &  & 9\\
\\ & II & II & II\\
I\\
II &  & X\\
II\end{array}\quad\begin{array}{cccc}
 &  & 10\\
\\ & II & II & II\\
II\\
II &  & V\\
II\end{array}\]

\end_inset


\end_layout

\begin_layout Itemize
(1) Trivially satisfies all the equations.
\end_layout

\begin_layout Itemize
(4) Can be satisfied with 
\begin_inset Formula $C_{0}=C_{1}=C_{2}$
\end_inset

.
\end_layout

\begin_layout Itemize
(8) + (10) Can be satisfied in several ways.
\end_layout

\begin_layout Itemize
(2) + (3) + (5) + (6) Leads to 
\begin_inset Formula $T=I$
\end_inset

 which is impossible, thus those types are not allowed.
\end_layout

\begin_layout Itemize
(7) + (9) Considering line one and three leads to having 
\begin_inset Formula $(UL_{1}T_{L_{1}}L_{1}^{-1}U^{-1})(C_{0}T_{C_{0}}C_{0}^{-1})$
\end_inset

 and 
\begin_inset Formula $(UL_{1}T_{L_{1}}^{-1}L_{1}^{-1}U^{-1})(C_{0}T_{C_{0}}C_{0}^{-1})$
\end_inset

 of which one must be the identity because those are cycles on three elements
 ( 
\begin_inset Formula $(123)^{2}=(132)\quad(123)(132)=I$
\end_inset

 ).
 Thus we again get 
\begin_inset Formula $T=I$
\end_inset

 which is impossible.
\end_layout

\begin_layout Standard
Thus only four possible combinations remain, which greatly restricts the
 number of possible sudokus.
\end_layout

\begin_layout Section
Constraints due to Givens in a Sudoku
\end_layout

\begin_layout Standard
All the permutations involved are in 
\begin_inset Formula $S_{3}$
\end_inset

, which have two degrees of freedom.
 A given fixes one of the three to permuting elements, so there are two
 possibilities left.
 For example if we know that for 
\begin_inset Formula $P\in S_{3}$
\end_inset

 we have 
\begin_inset Formula $P(1)=2$
\end_inset

 then the possibilities are 
\begin_inset Formula $P=(123)$
\end_inset

 and 
\begin_inset Formula $P=(12)(3)$
\end_inset

.
\end_layout

\begin_layout Standard
A given reduces to two the possibilities in the corresponding bloc line
 and bloc column.
 If we have twice the same number in a bloc line or column then we have
 fixed both degrees of freedom and entirely determined one of the matrices
 in the set.
\end_layout

\begin_layout Subsection
Inequalities from Givens
\end_layout

\begin_layout Standard
Lets consider one set, we denote by 
\begin_inset Formula $N_{ab}$
\end_inset

 the number of constraints of the type 
\begin_inset Formula $a\mid b$
\end_inset

 and so on for all the 9 possible constraints (see 
\begin_inset CommandInset ref
LatexCommand ref
reference "eq:constraints"

\end_inset

).
 The variables 
\begin_inset Formula $0\leq n_{ab}\leq N_{ab}$
\end_inset

 represent the possible choices with the constraint 
\begin_inset Formula $N_{a}\geq N_{ab}-n_{ab}$
\end_inset

 and 
\begin_inset Formula $N_{b}=3-N_{a}\geq n_{ab}$
\end_inset

.
 Combining this for all the possible constraints yields the following inequaliti
es.
\end_layout

\begin_layout Standard
\begin_inset Formula \begin{equation}
N_{a}\geq N_{ab}+{\color{blue}N_{af}}+{\color{red}N_{ad}}-n_{ab}-n_{ad}-n_{af}\qquad N_{a}\leq3-n_{ab}-{\color{magenta}n}_{{\color{magenta}bc}}-n_{be}\end{equation}

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula \begin{equation}
N_{a}\geq N_{cd}+{\color{blue}N_{bc}}+{\color{red}N_{cf}}-{\color{magenta}n_{bc}}-{\color{magenta}n_{cd}}-{\color{magenta}n_{cf}}\qquad N_{a}\leq3-n_{ad}-{\color{magenta}n}_{{\color{magenta}cd}}-n_{de}\end{equation}

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula \begin{equation}
N_{a}\geq N_{ef}+{\color{blue}N_{de}}+{\color{red}N_{be}}-n_{be}-n_{de}-n_{ef}\qquad N_{a}\leq3-n_{af}-{\color{magenta}n}_{{\color{magenta}cf}}-n_{ef}\end{equation}

\end_inset


\end_layout

\begin_layout Standard
We can see that the inequalities on the left are totally independent from
 each other, as are those on the right.
 A hint in a bloc line or column can be in three different blocs, the N's
 having same color represent hints in a same bloc.
 Out of the six we only need to keep the one giving the lowest upper bound
 and the one giving the highest lower bound.
 The three 
\begin_inset Formula $n$
\end_inset

 variables in a inequality on the left appear each once in a different inequalit
y on the right.
\end_layout

\begin_layout Subsection
Determination with Hints on Different Numbers
\end_layout

\begin_layout Standard
The inequalities a totaly symmetric with respect to the interchange 
\begin_inset Formula $N\leftrightarrow n$
\end_inset

, so we only need to determine how to fix 
\begin_inset Formula $N_{a}=3\equiv0$
\end_inset

 and 
\begin_inset Formula $N_{a}=2\equiv1$
\end_inset

 because they equivalent.
\end_layout

\begin_layout Itemize
Case 
\begin_inset Formula $N_{a}=3$
\end_inset

 : we need a configuration giving 
\begin_inset Formula $N_{a}\geq3$
\end_inset

 and forbiding to set a 
\begin_inset Formula $n$
\end_inset

 to a non zero value.
 The only way is to have two lower bounds acting on the same upper bound
 as follows.
\begin_inset Formula \begin{equation}
N_{a}\geq3-n_{ab}\qquad N_{a}\leq3-n_{ab}-{\color{magenta}n_{bc}}\qquad N_{a}\geq3-{\color{magenta}n_{bc}}\qquad N_{ab}=N_{bc}=3\end{equation}

\end_inset

Those six hints necesseraly need to be in two different blocs.
 The six hints enterly fix the permutations the type I set.
\end_layout

\begin_layout Itemize
Case 
\begin_inset Formula $N_{a}=2$
\end_inset

 : we need a configuration enforcing 
\begin_inset Formula $N_{a}\geq2$
\end_inset

 and 
\begin_inset Formula $N_{a}\leq2$
\end_inset

.
 The only way is to enforce having at least one none zero n, implying that
 we will have two none zero n's which have to be in two different upper
 bounds.
\begin_inset Formula \begin{equation}
N_{a}\geq1+{\color{blue}3}-n_{ab}-n_{ad}\qquad N_{a}\leq3-n_{ab}\qquad N_{ab}=1\quad N_{ad}=3\end{equation}

\end_inset


\begin_inset Formula \begin{equation}
N_{a}\geq2-{\color{magenta}n_{cd}}\qquad N_{a}\leq3-n_{ad}-{\color{magenta}n}_{{\color{magenta}cd}}\qquad N_{cd}=2\end{equation}

\end_inset

If we had only four or five hints we could continue increasing the n's and
 have multiples solutions.
 The only possiblity is with 6 hints as shown above, we would need to increase
 two n's acting in the same upper bound and then giving a contradiction.
 The six hints do not entirely fix the permutation.
 
\end_layout

\begin_layout Subsection
Determination with Hints on the Same Number
\end_layout

\begin_layout Standard
If we already knew one of the nine matrice due to two givens on the same
 number in a same bloc row or column we would get inequalities of the following
 type.
\end_layout

\begin_layout Standard
\begin_inset Formula \begin{equation}
N_{a}\geq1+N_{ab}+{\color{blue}N_{af}}+{\color{red}N_{ad}}-n_{ab}-n_{ad}-n_{af}\qquad N_{a}\leq3-n_{ab}-{\color{magenta}n}_{{\color{magenta}bc}}-n_{be}\end{equation}

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula \begin{equation}
N_{a}\geq1+N_{cd}+{\color{blue}N_{bc}}+{\color{red}N_{cf}}-{\color{magenta}n_{bc}}-{\color{magenta}n_{cd}}-{\color{magenta}n_{cf}}\qquad N_{a}\leq3-n_{ad}-{\color{magenta}n}_{{\color{magenta}cd}}-n_{de}\end{equation}

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula \begin{equation}
N_{a}\geq1+N_{ef}+{\color{blue}N_{de}}+{\color{red}N_{be}}-n_{be}-n_{de}-n_{ef}\qquad N_{a}\leq3-n_{af}-{\color{magenta}n}_{{\color{magenta}cf}}-n_{ef}\end{equation}

\end_inset


\end_layout

\begin_layout Standard
By the same reasoning as before we would obtain that it needs 4 additional
 givens to determine the set.
 If we had twice two givens on the same number, thus fixing two matrices,
 we would have the inequalities with a 2 instead of a 1.
 This then yields again that we would need 2 more givens to obtain a unique
 solution.
 Conclusively we always need 6 givens in a bloc line or bloc column to determine
 the corresponding set.
\end_layout

\begin_layout Subsection
Determination Knowing the Type
\end_layout

\begin_layout Standard
If we know that a set is of type type I it needs 4 more hints to determine
 it.
\end_layout

\begin_layout Standard
\begin_inset Formula \begin{equation}
N_{a}\geq3-n_{ab}\qquad N_{a}\leq3-n_{ab}-{\color{magenta}n}_{{\color{magenta}bc}}\qquad N_{a}\geq{\color{blue}1}-{\color{magenta}n_{bc}}\qquad N_{ab}=3\quad N_{bc}=1\end{equation}

\end_inset

If its of type II we only need two more hints to determine it.
\end_layout

\begin_layout Standard
\begin_inset Formula \begin{equation}
N_{a}\geq1+1-n_{ab}\qquad N_{a}\leq2-n_{ab}-{\color{magenta}n}_{{\color{magenta}bc}}\qquad N_{a}\geq1+{\color{blue}1}-{\color{magenta}n_{bc}}\qquad N_{ab}=1\quad N_{bc}=1\end{equation}

\end_inset


\end_layout

\begin_layout Subsection
Column-Line Constraints from Givens
\end_layout

\begin_layout Standard

\end_layout

\begin_layout Section
The Four Sudoku Types
\end_layout

\begin_layout Standard
We are now going to analyze each of the four possible types of sudokus in
 order to enumerate them and determine the fewest givens for a unique solution.
\end_layout

\begin_layout Standard
\begin_inset Formula \begin{equation}
\begin{array}{cccc}
\begin{array}{cccc}
 & I & I & I\\
I\\
I &  & (1)\\
I\end{array} & \begin{array}{cccc}
 & II & II & II\\
I\\
I &  & (2)\\
I\end{array} & \begin{array}{cccc}
 & I & II & II\\
I\\
II &  & (3)\\
II\end{array} & \begin{array}{cccc}
 & II & II & II\\
II\\
II &  & (4)\\
II\end{array}\end{array}\end{equation}

\end_inset


\end_layout

\begin_layout Subsection
Type 1 Sudokus
\end_layout

\begin_layout Standard
The consistency equations are trivial to satisfy, the possible permutations
 for lines are independent of each other as are those between columns.
\end_layout

\begin_layout Standard
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="5" columns="5">
<features>
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Possibilities
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $2\cdot(3!)^{3}$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $2\cdot(3!)^{3}$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $2\cdot(3!)^{3}$
\end_inset


\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Lines/Columns
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
ace ace ace
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
ace ace ace
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
ace ace ace
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $2\cdot9!/(3!)^{3}$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
aaa ccc eee
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
3
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
3
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $2\cdot3!$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
aaa ccc eee
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
3
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
3
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $2\cdot3!$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
aaa ccc eee
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
3
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
3
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset

 
\end_layout

\begin_layout Standard
\begin_inset Formula \begin{equation}
N_{1}=2^{6}\frac{9!}{(3!)^{3}}(3!)^{3\times3}(3!)^{2}=39007939461120\simeq3.9\cdot10^{13}\end{equation}

\end_inset


\end_layout

\begin_layout Standard
For every column we have 6 independent degrees of freedom, leading to the
 fact that we would at least need 18 givens to have a unique solutions.
\end_layout

\begin_layout Subsection
Type 2 Sudokus
\end_layout

\begin_layout Standard
If we take the identity for the first line the we are free to permute the
 first column as used but the second and third column have only 4 degrees
 of freedom.
 We are free to cycle permute the T cycle which gives three possibilities,
 and swap the three left pairs.
 
\end_layout

\begin_layout Standard
\begin_inset Formula \begin{equation}
P_{1}=UC_{0}T_{C_{0}}^{2}C_{0}^{-1}U^{-1}L_{1}\quad(C_{0}T_{C_{0}}C_{0}^{-1})=(C_{1}TC_{1}^{-1})\quad(C_{2}TC_{2}^{-1})=(C_{0}T_{C_{0}}C_{0}^{-1})\end{equation}

\end_inset


\end_layout

\begin_layout Standard
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="5" columns="5">
<features>
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Possibilities
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $2^{10}\cdot3^{6}\cdot17$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Lines/Columns
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
afd cbf edb
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
afd cbf edb
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
afd cbf edb
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $2\cdot9!/(3!)^{3}$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
aaa ccc eee
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
3
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
3
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $2\cdot3!$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
eaa acc cee
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
3
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
3
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $2\cdot3!$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
caa ecc aee
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
2
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset

 
\end_layout

\begin_layout Standard
\begin_inset Formula \begin{equation}
N_{2}=2^{3}\frac{9!}{(3!)^{3}}\cdot2^{10}\cdot3^{6}\cdot17\cdot(3!)^{2}\cdot2=12280277237760\simeq1.2\cdot10^{13}\end{equation}

\end_inset


\end_layout

\begin_layout Subsection
Type 3 Sudokus
\end_layout

\begin_layout Standard
\begin_inset Formula \begin{equation}
P_{1}=I\quad(U^{-1}L_{1}TL_{1}^{-1}U)=(C_{1}TC_{1}^{-1})\quad(U^{-1}L_{1}TL_{1}^{-1}U)=(C_{2}T^{2}C_{2}^{-1})\end{equation}

\end_inset


\end_layout

\begin_layout Standard
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="4" columns="2">
<features>
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Lines
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Possibilities
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
aaa ccc eee
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $2\cdot9!/(3!)^{3}$
\end_inset


\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
abb cdd eff
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $2\cdot3^{3}\cdot3!$
\end_inset


\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
abb cdd eff
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $2\cdot3$
\end_inset


\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset

 
\begin_inset Tabular
<lyxtabular version="3" rows="2" columns="4">
<features>
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Columns
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
ace ace ace
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
afd cbf edb
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
afd edb cbf
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Possibilities
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $2\cdot(3!)^{3}$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $2\cdot3\cdot2^{3}$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $2\cdot3\cdot2^{3}$
\end_inset


\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula \begin{equation}
N_{3}=2^{6}\cdot9!\cdot2^{6}\cdot3^{6}\cdot3!\cdot(3!)^{2}=234047636766720\simeq2.3\cdot10^{14}\end{equation}

\end_inset

??
\end_layout

\begin_layout Subsection
Type 4 Sudokus
\end_layout

\begin_layout Standard
\begin_inset Formula \begin{equation}
P_{1}=T^{2}\quad T(C_{0}TC_{0}^{-1})=(C_{1}TC_{1}^{-1})T\quad T(C_{2}TC_{2}^{-1})=(C_{0}TC_{0}^{-1})T\end{equation}

\end_inset


\end_layout

\begin_layout Standard
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="4" columns="2">
<features>
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Lines
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Possibilities
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
abb cdd eff
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $2\cdot9!/2^{3}$
\end_inset


\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
ebb add cff
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $2\cdot3!$
\end_inset


\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
cbb edd aff
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $2\cdot3!$
\end_inset


\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset

 
\begin_inset Tabular
<lyxtabular version="3" rows="2" columns="4">
<features>
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Columns
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
afd cbf edb
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
efd abf cdb
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
cfd ebf adb
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Possibilities
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $2\cdot3^{3}(3!)^{3}$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $2\cdot3\cdot2^{3}$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $2\cdot3\cdot2^{3}$
\end_inset


\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula \begin{equation}
N_{4}=2^{3}\cdot9!\cdot2^{6}\cdot3^{5}\cdot(3!)^{5}=351071455150080\simeq3.5\cdot10^{14}\end{equation}

\end_inset

??
\end_layout

\begin_layout Subsection
Total Number of Sudokus
\end_layout

\begin_layout Standard
The total number of Sudokus is much lower then found in 
\begin_inset CommandInset citation
LatexCommand cite
key "NumberSudoku"

\end_inset

 by Bertram Felgenhauer and Fraze Javis.
 They are probably overcounting sudokus because they multiply by the size
 of the equivalences classes of each used symmetry.
 When actually they should only multiply by the size of the equivalence
 classes of the combined symmetries.
\end_layout

\begin_layout Section
Conclusion
\end_layout

\begin_layout Standard
In the more general case of a 
\begin_inset Formula $N\times N$
\end_inset

 Sudoku the generalisation of the system of equations 
\begin_inset CommandInset ref
LatexCommand ref
reference "eq:AlegbraEquations"

\end_inset

 would contain 
\begin_inset Formula $N^{2}$
\end_inset

equations for 
\begin_inset Formula $N!$
\end_inset

 variables.
 Consequently the number of possible sets would increase factorialy and
 the generalized ordering of 
\begin_inset CommandInset ref
LatexCommand ref
reference "eq:AlgebraOrdering"

\end_inset

 would become difficult.
 Probably a clever notation could make it possible to establish rules in
 the general case.
\end_layout

\begin_layout Section
Appendix
\end_layout

\begin_layout Subsection
\begin_inset CommandInset label
LatexCommand label
name "sub:Basis"

\end_inset

Basis, Central Matrix and Bloc Permutations
\end_layout

\begin_layout Standard
\begin_inset Formula \begin{equation}
e_{00}=\left[\begin{array}{ccc}
1 & 0 & 0\\
0 & 0 & 0\\
0 & 0 & 0\end{array}\right]\qquad e_{01}=\left[\begin{array}{ccc}
0 & 1 & 0\\
0 & 0 & 0\\
0 & 0 & 0\end{array}\right]\quad\ldots\quad e_{22}=\left[\begin{array}{ccc}
0 & 0 & 0\\
0 & 0 & 0\\
0 & 0 & 1\end{array}\right]\end{equation}

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula \begin{equation}
C=\sum_{i,j}e_{ij}\otimes e_{ij}=\left(\begin{array}{ccc}
\begin{array}{ccc}
1 & 0 & 0\\
0 & 0 & 0\\
0 & 0 & 0\end{array} & \begin{array}{ccc}
0 & 0 & 0\\
1 & 0 & 0\\
0 & 0 & 0\end{array} & \begin{array}{ccc}
0 & 0 & 0\\
0 & 0 & 0\\
1 & 0 & 0\end{array}\\
\\\begin{array}{ccc}
0 & 1 & 0\\
0 & 0 & 0\\
0 & 0 & 0\end{array} & \begin{array}{ccc}
0 & 0 & 0\\
0 & 1 & 0\\
0 & 0 & 0\end{array} & \begin{array}{ccc}
0 & 0 & 0\\
0 & 0 & 0\\
0 & 1 & 0\end{array}\\
\\\begin{array}{ccc}
0 & 0 & 1\\
0 & 0 & 0\\
0 & 0 & 0\end{array} & \begin{array}{ccc}
0 & 0 & 0\\
0 & 0 & 1\\
0 & 0 & 0\end{array} & \begin{array}{ccc}
0 & 0 & 0\\
0 & 0 & 0\\
0 & 0 & 1\end{array}\end{array}\right)\end{equation}

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula \begin{equation}
B\in I_{3}\otimes S_{3}\qquad B=\left(\begin{array}{ccc}
b_{1} & 0 & 0\\
0 & b_{2} & 0\\
0 & 0 & b_{3}\end{array}\right)\; b_{i}\in S_{3}\qquad B_{i}=b_{i}\end{equation}

\end_inset


\end_layout

\begin_layout Standard
For future use we calculated as well the total number of two and three sets
 for which a, c and e are at same position.
\end_layout

\begin_layout Standard
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="7" columns="3">
<features>
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
abb cdd eff
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Number of orderings
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Number of orderings keeping a, c and e fixed
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
ace bdf bdf
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $3\cdot(3!)^{3}$
\end_inset

 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\rightarrow\times(3!)^{2}$
\end_inset


\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
acf bde bdf
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $(3!)^{4}$
\end_inset

 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\rightarrow\times2\cdot3!$
\end_inset


\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
ade bcf bdf
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $(3!)^{4}$
\end_inset

 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\rightarrow\times2\cdot3!$
\end_inset


\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
adf bce bdf
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $(3!)^{4}$
\end_inset

 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\rightarrow\times2\cdot3!$
\end_inset


\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
adf bcf bde
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $(3!)^{4}$
\end_inset

 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\rightarrow\times2^{3}$
\end_inset


\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $=3^{3}(3!)^{3}$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $1\: Set=2^{5}\cdot3^{4}\cdot31\qquad2\; Sets=2^{10}\cdot3^{4}\cdot17$
\end_inset

 
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Bibliography
\begin_inset CommandInset bibitem
LatexCommand bibitem
label "1"
key "NumberSudoku"

\end_inset

Bertram Felgenhauer, Fraze Jarvis : 
\begin_inset CommandInset href
LatexCommand href
name "Enumerating possible Sudoku grids"
target "http://www.afjarvis.staff.shef.ac.uk/sudoku/sudoku.pdf"

\end_inset


\end_layout

\end_body
\end_document
